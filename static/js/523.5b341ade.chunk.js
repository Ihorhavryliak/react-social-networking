"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[523],{2523:function(e,a,s){s.r(a),s.d(a,{default:function(){return y}});var t=s(2791),n=s(8687),r=s(6279),c=s(2394),l=s(3488),i=s(9529),u=s(521),h=s(9439),o=s(1020),d="chat_texareaChat__7UwRi",m="chat_texareaErrorText__rKZUZ",_="chat_texareaFieldChat__-RTfL",f="chat_my__WU1rR",x="chat_nameChat__8ZUce",v="chat_textMessageChat__UjD3C",j="chat_anotherUser__4bEN6",N="chat_blockChat__ZOrKX",g="chat_photoChat__WADRW",p="chat_refChat__395Vl",C="chat_scroolChat__tAp9i",Z="chat_mainChatContainer__vtRQ5",S=s(184),b=function(){var e=(0,t.useState)(""),a=(0,h.Z)(e,2),s=a[0],r=a[1],c=(0,n.I0)(),l=(0,n.v9)((function(e){return e.chat.status})),i=(0,t.useState)({}),f=(0,h.Z)(i,2),x=f[0],v=f[1];(0,t.useEffect)((function(){1===s.length&&v({len:""})}),[s]);return(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:d,children:[(0,S.jsx)("textarea",{className:_,onChange:function(e){return r(e.currentTarget.value)},value:s}),(0,S.jsx)("span",{className:m,children:x.len&&x.len})]}),(0,S.jsx)("div",{children:(0,S.jsx)(o.Z,{disabled:"ready"!==l,onClick:function(){if(s.length<=0)return v({len:"Require"}),null;v({len:""}),c((0,u.AS)(s)),r("")},children:"Send"})})]})},R=s(3307),k=t.memo((function(e){var a,s=e.message,t=(0,n.v9)(l.V);return a=null===s.photo?R:s.photo,(0,S.jsx)(S.Fragment,{children:t===s.userId?(0,S.jsxs)("div",{className:f,children:[(0,S.jsx)("img",{className:g,alt:s.userName,src:a}),(0,S.jsx)("span",{className:x,children:s.userName}),(0,S.jsx)("div",{className:v,children:s.message})]}):(0,S.jsxs)("div",{className:j,children:[(0,S.jsx)("img",{className:g,alt:s.userName,src:a}),(0,S.jsx)("span",{className:x,children:s.userName}),(0,S.jsx)("div",{className:v,children:s.message})]})})})),w=t.memo((function(){var e=(0,n.v9)((function(e){return e.chat.message})),a=(0,t.useRef)(null),s=(0,t.useState)(0),r=(0,h.Z)(s,2),c=(r[0],r[1]),l=(0,t.useState)(!0),i=(0,h.Z)(l,2);i[0],i[1];return(0,t.useEffect)((function(){setTimeout((function(){var e;null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),500)}),[e]),(0,S.jsxs)("div",{className:C,style:{height:"400px",overflowY:"auto"},onScroll:function(e){return c(e.currentTarget.scrollHeight)},children:[e.map((function(e,a){return(0,S.jsx)(k,{message:e},e.id)})),(0,S.jsx)("div",{className:p,ref:a})]})})),U=function(){var e=(0,n.I0)(),a=(0,n.v9)((function(e){return e.chat.status}));(0,n.v9)((function(e){return e.chat.message}));return(0,t.useEffect)((function(){return e((0,u.a7)()),function(){e((0,u.b5)())}}),[]),(0,S.jsxs)("div",{className:N,children:["error"===a&&(0,S.jsx)("div",{children:" Some erorr. Refresh page please"}),(0,S.jsx)(w,{}),(0,S.jsx)(b,{})]})},y=function(){var e="Shared chat (web sockets)";document.title=e;var a=(0,n.v9)(l.d),s=(0,n.v9)(i.Ih);return a?(0,S.jsxs)(S.Fragment,{children:[s&&(0,S.jsx)(r.Z,{}),(0,S.jsxs)("div",{className:Z,children:[(0,S.jsx)("h1",{children:e}),(0,S.jsx)(U,{})]})]}):(0,S.jsx)(c.X,{})}}}]);
//# sourceMappingURL=523.5b341ade.chunk.js.map