"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[114],{1114:function(e,s,t){t.r(s),t.d(s,{default:function(){return z}});var i=t(1413),o=t(5671),r=t(3144),n=t(136),a=t(7277),l=t(2791),c=t(8687),u=t(4331),d=t(4165),f=t(5861),p=t(6279),h={image:"ProfileInfo_image__T+1yF",descri_pbloxk:"ProfileInfo_descri_pbloxk__JSjKr",mainPhoto:"ProfileInfo_mainPhoto__yKNrr",contact:"ProfileInfo_contact__OKpLI",formSUmmeryError:"ProfileInfo_formSUmmeryError__2VW3a",blockDescripsin:"ProfileInfo_blockDescripsin__KWEiY",sectionInformation:"ProfileInfo_sectionInformation__dRlIT",status:"ProfileInfo_status__96uhI",statusName:"ProfileInfo_statusName__iPCW4",fieldStatus:"ProfileInfo_fieldStatus__FeOAE",fieldStatusActivate:"ProfileInfo_fieldStatusActivate__dQ8F3",file:"ProfileInfo_file__6OYNW",containerFileGrid:"ProfileInfo_containerFileGrid__9gQhu",profileEditForm:"ProfileInfo_profileEditForm__EuU+f",windowForm:"ProfileInfo_windowForm__qvjCG",closeWindow:"ProfileInfo_closeWindow__kCZ9k",blockFormUserInfo:"ProfileInfo_blockFormUserInfo__vtfPf"},m=t(9439),x=t(2987),v=t(184),j=function(e){var s=(0,c.I0)(),t=(0,c.v9)((function(e){return e.profilePage.status})),i=(0,l.useState)(!1),o=(0,m.Z)(i,2),r=o[0],n=o[1],a=(0,l.useState)(t),d=(0,m.Z)(a,2),f=d[0],p=d[1];(0,l.useEffect)((function(){p(t)}),[t]);return(0,v.jsxs)("div",{children:[!r&&(0,v.jsx)("div",{className:h.status,children:(0,v.jsxs)("span",{children:["   ",(0,v.jsx)(x.Z,{disabled:!e.isOwner,className:h.fieldStatus,value:t||"Your status",onClick:function(){n(!0)}})]})}),r&&(0,v.jsx)("div",{className:h.status,children:(0,v.jsxs)("span",{children:["   ",(0,v.jsx)(x.Z,{className:h.fieldStatusActivate,onChange:function(e){p(e.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),s((0,u.g2)(f))},value:f})]})})]})},_=t(3307),b=t(4164),g=t(704),P=t(6919),I=t(6523),k=(0,g.Z)({form:"edit-profile"})((function(e){var s=e.handleSubmit,t=e.profile,i=e.closeEditMode,o=e.error;return!0===e.isFecbg?(0,v.jsx)(p.Z,{}):(0,b.createPortal)((0,v.jsxs)("div",{className:h.windowForm,children:[(0,v.jsx)("span",{className:h.closeWindow,onClick:i,children:"X"}),(0,v.jsxs)("form",{onSubmit:s,className:h.profileEditForm,children:[o&&(0,v.jsx)("div",{className:h.formSUmmeryError,children:o}),(0,v.jsxs)("div",{className:h.blockFormUserInfo,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Full Name"}),": ",(0,I._d)("FullName","fullName",[P.b3],I.II)]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Looking a job:"}),(0,I._d)("","lookingForAJob",[],I.II,{type:"checkbox"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"My profesion skils"}),":",(0,I._d)("My profesion skils","lookingForAJobDescription",[P.b3],I.gx)]}),(0,v.jsx)("div",{}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"About me"})," :",(0,I._d)("About me","aboutMe",[P.b3],I.gx)]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Contacts"}),":",Object.keys(t.contacts).map((function(e,s){return(0,v.jsx)("div",{className:h.contacts,children:(0,v.jsxs)("b",{children:[e,":",(0,I._d)(e,"contacts."+e,[P.l5],I.II)]})},e)}))]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("button",{className:"ant-btn ant-btn-default",style:{marginTop:"25px"},children:"Save"})," "]})]})]}),document.getElementById("portal"))})),N=t(1020),F=function(e){return e.profilePage.isSetDate},y=t(7689),S=function(e){var s=e.profile;return(0,v.jsxs)("div",{className:h.blockDescripsin,children:[s.fullName&&(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Full Name"})," ",s.fullName]}),s.lookingForAJob&&(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Looking a job:"}),"  ",!0===s.lookingForAJob?"yes":"no"]}),(0,v.jsxs)("div",{children:[s.lookingForAJobDescription&&(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"My profesion skils"}),": ",s.lookingForAJobDescription]}),(0,v.jsx)("div",{}),s.aboutMe&&(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"About me"})," : ",s.aboutMe]}),Object.keys(s.contacts).some((function(e){return null!==s.contacts[e]&&s.contacts[e].length>0}))&&(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{children:"Contacts:"}),Object.keys(s.contacts).map((function(e,t){return(0,v.jsx)(w,{contactTitle:e,contactValua:s.contacts[e]},t+e)}))]})]})]})},w=function(e){var s=e.contactTitle,t=e.contactValua;return t?(0,v.jsxs)("div",{className:h.contact,children:[(0,v.jsx)("b",{children:s}),": ",t]}):null},Z=function(e){var s=e.profile,t=e.status,i=e.upDateStatuses,o=e.isOwner,r=e.savePhoto,n=e.saveProfile,a=e.isFecbg,l=(0,c.v9)(F),m=(0,y.s0)(),b=(0,c.I0)();if(!s)return(0,v.jsx)(p.Z,{});var g=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(s){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(s);case 1:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:h.sectionInformation,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("img",{alt:"photos",src:s.photos.large||_,className:h.mainPhoto}),(0,v.jsxs)("div",{className:h.containerFileGrid,children:[(0,v.jsx)("div",{children:o?(0,v.jsx)(x.Z,{name:"sdd",className:h.file,type:"file",onChange:function(e){var s;null!==(s=e.target.files)&&void 0!==s&&s.length&&r(e.target.files[0])}}):(0,v.jsx)("div",{children:(0,v.jsx)(N.Z,{onClick:function(){return e=s.userId,void m("/dialogs/".concat(e,"/"));var e},children:"Send Message"})})}),(0,v.jsx)("div",{children:o&&(0,v.jsxs)("div",{children:[" ",(0,v.jsx)(N.Z,{onClick:function(){b(u.Nw.closeEditForm(!0))},children:"Edit information"})]})})]})]}),(0,v.jsxs)("div",{className:h.descri_pbloxk,children:[(0,v.jsx)(j,{status:t,upDateStatuses:i,isOwner:o}),l?(0,v.jsx)(k,{initialValues:s,isFecbg:a,onSubmit:g,closeEditMode:function(){b(u.Nw.closeEditForm(!1))},profile:s}):(0,v.jsx)(S,{profile:s})]})]})},A=t(3433),C={postBlock:"Mypost_postBlock__C34LJ",post:"Mypost_post__P229j"},D=t(3243),E="Post_item__+xHEG",M="Post_textMessage__kY8MH",U="Post_likeCount__Kh0D7",O=function(e){var s=(0,c.v9)(D.yK);return(0,v.jsxs)("div",{className:E,children:[(0,v.jsx)("img",{alt:"users",src:s||_}),(0,v.jsx)("span",{className:M,children:e.messege}),"  ",(0,v.jsxs)("span",{className:U,children:["Likes: ",e.count]}),(0,v.jsx)("div",{})]})},T=(0,g.Z)({form:"profileAddNewPostForm"})((function(e){return(0,v.jsxs)("form",{onSubmit:e.handleSubmit,style:{maxWidth:"500px"},children:[(0,v.jsx)("div",{children:(0,I._d)("Enter your messege","newPostText",[P.V1,W],I.gx)}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{style:{float:"right"},className:"ant-btn ant-btn-default",children:"Add post"})})]})})),J=t(2381),W=(0,P.DT)(65),K=l.memo((function(e){var s=(0,c.v9)(D.PW),t=(0,c.I0)(),i=(0,A.Z)(s).reverse().map((function(e){return(0,v.jsx)(O,{messege:e.name,count:e.count},e.id)}));return(0,v.jsxs)("div",{className:C.postBlock,children:[(0,v.jsx)("h3",{className:C.myPost,children:"My posts"}),(0,v.jsx)("div",{children:(0,v.jsx)(T,{onSubmit:function(e){t(u.Nw.adPostActionCreat(e.newPostText)),t((0,J.mc)("profileAddNewPostForm"))}})}),(0,v.jsx)("div",{className:C.post,children:i})]})})),L=t(9529),B=function(e){var s=(0,c.v9)(L.Ih);return(0,v.jsxs)(v.Fragment,{children:[s&&(0,v.jsx)(p.Z,{}),(0,v.jsxs)("div",{children:[(0,v.jsx)(Z,{profile:e.profile,savePhoto:e.savePhoto,isOwner:e.isOwner,saveProfile:e.saveProfile,isFecbg:e.isFecbg,status:e.status,upDateStatuses:e.upDateStatuses}),e.isOwner?(0,v.jsx)(K,{}):(0,v.jsx)("div",{style:{marginTop:"20px"},children:"No any posts"})]})]})};var G=function(e){return function(s){var t=(0,y.UO)(),o=(0,y.TH)(),r=(0,y.s0)();return(0,v.jsx)(e,(0,i.Z)((0,i.Z)({},s),{},{router:{params:t,location:o,navigate:r}}))}},V=t(7781),Y=function(e){(0,n.Z)(t,e);var s=(0,a.Z)(t);function t(){return(0,o.Z)(this,t),s.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var e=+this.props.router.params.userId;e||(e=this.props.authoraizerUserId),e?(this.props.getUserProfile(e),this.props.getStatus(e)):console.error("Id shoud be exist in URL params or state")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s){this.props.router.params.userId!==e.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){var e,s;null!==(e=this.props.profile)&&void 0!==e&&e.fullName?document.title=null===(s=this.props.profile)||void 0===s?void 0:s.fullName:document.title="";var t=+this.props.router.params.userId;return t||(t=this.props.authoraizerUserId)?(0,v.jsxs)("div",{children:[(0,v.jsx)("h1",{children:"Profile"}),(0,v.jsx)(B,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,isOwner:!this.props.router.params.userId,upDateStatuses:this.props.upDateStatuses,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,isFecbg:this.props.isFecbg}))]}):(0,v.jsx)(y.Fg,{to:"/login"})}}]),t}(l.Component),z=(0,V.qC)((0,c.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authoraizerUserId:e.auth.userId,isAuth:e.auth.isAuth,isFecbg:e.userPage.isFeching}}),{getUserProfile:u.et,getStatus:u.lR,upDateStatuses:u.g2,savePhoto:u.Ju,saveProfile:u.Ii}),G)(Y)}}]);
//# sourceMappingURL=114.e3640522.chunk.js.map